@use "sass:color";

.palette-group {
  display: flex;
  flex-wrap: wrap;
  gap: $gutter-size/2;
  &__button {
    border: none;
    height: 3rem;
    border-radius: $border-radius--regular;
    box-shadow: 0 0.125rem 5px rgba(0, 0, 0, 0.25);
    width: calc((100% - $gutter-size/2 * 3) / 4);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    // border: 2px solid #fff;

    &[disabled] {
      box-shadow: none;
      &::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(65, 65, 65, 0.4);
        border: 2px solid rgba(65, 65, 65, 0.2);
        border-radius: inherit;
        cursor: not-allowed;
      }
      &.disabled-light {
        &::before {
          background: rgba(200, 200, 200, 0.4);
          border-color: rgba(65, 65, 65, 0.4);
        }
      }
    }

    &.active {
      border: none;
      // @include pseudo-border(2px solid $color__foreground, inherit, -4px);
      @function active-svg($color) {
        @return 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12"><path d="M-102.69,548.12a6,6,0,0,0-6,6,6,6,0,0,0,6,6,6,6,0,0,0,6-6A6,6,0,0,0-102.69,548.12Zm-.9,9.15-2.65-2.65,1.06-1.06,1.59,1.59,3.61-3.62,1.06,1.06Z" transform="translate(108.69 -548.12)" fill="#{$color}"/></svg>'
      }

      &::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        box-shadow: inset 0 0 0 2px #fff, inset 0 0 3px 3px rgba(#1c65ff, 0.8);
        border-radius: inherit;
      }

      &::before {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        background-image: url(active-svg($color--light));
        background-size: 24px;
        background-position: center;
        background-repeat: no-repeat;
        // background: red;
      }
    }
  }
}
